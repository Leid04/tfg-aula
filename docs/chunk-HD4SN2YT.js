import{d as P,e as w,f as T,h as I,i as y}from"./chunk-VWXMHSIG.js";import"./chunk-C5NXSQJ6.js";import{Fb as n,Gb as u,Hb as v,La as s,Ma as b,Mb as k,bb as x,ib as f,jb as h,ka as C,lb as S,mb as E,nb as t,ob as e,ta as d,tb as _,ua as p,vb as g,xb as c}from"./chunk-O5IVALO7.js";function V(r,a){if(r&1&&(t(0,"h1",18),n(1," En "),t(2,"span",19),n(3,"Iniciativa emprendedora"),e(),n(4," principalmente destacas: "),e(),t(5,"p",20),n(6),e()),r&2){let i=c(2);s(6),u(i.currentPlan==null?null:i.currentPlan.iniciativa)}}function L(r,a){if(r&1){let i=_();t(0,"div",21)(1,"h1",22),n(2," Te falta por hacer la parte de Iniciativa emprendedora "),e(),t(3,"button",23),g("click",function(){d(i);let l=c(2);return p(l.setCurrentIndex(0))}),n(4," Vamos a crearla! "),e()()}}function R(r,a){if(r&1&&(t(0,"h1",18),n(1," En "),t(2,"span",19),n(3,"Mercado y Marketing"),e(),n(4," destaca: "),e(),t(5,"p",20),n(6),e()),r&2){let i=c(2);s(6),u(i.currentPlan==null?null:i.currentPlan.mercadoMarketing)}}function j(r,a){if(r&1){let i=_();t(0,"div",21)(1,"h1",22),n(2," Te falta por hacer la parte de Mercado y marketing "),e(),t(3,"button",24),g("click",function(){d(i);let l=c(2);return p(l.setCurrentIndex(1))}),n(4," Vamos a crearla! "),e()()}}function A(r,a){if(r&1&&(t(0,"h1",18),n(1," Finalmente en "),t(2,"span",19),n(3,"gestiones"),e(),n(4," se recoge: "),e(),t(5,"p",20),n(6),e()),r&2){let i=c(2);s(6),u(i.currentPlan==null?null:i.currentPlan.gestiones)}}function M(r,a){if(r&1){let i=_();t(0,"div",21)(1,"h1",22),n(2," Se te ha olvidado lo \xFAltimo que es la parte de gestiones "),e(),t(3,"button",25),g("click",function(){d(i);let l=c(2);return p(l.setCurrentIndex(2))}),n(4," Vamos a crearla! "),e()()}}function U(r,a){if(r&1&&(t(0,"div",10)(1,"div",11),x(2,V,7,1)(3,L,5,0),e(),t(4,"div",12),x(5,R,7,1)(6,j,5,0),e()(),t(7,"div",13)(8,"div",14),x(9,A,7,1)(10,M,5,0),e()(),t(11,"div",15)(12,"button",16),n(13," Descargar "),e(),t(14,"button",17),n(15," Modificar "),e()()),r&2){let i=c();s(2),f(2,(i.currentPlan==null?null:i.currentPlan.iniciativa)!=""?2:3),s(3),f(5,(i.currentPlan==null?null:i.currentPlan.mercadoMarketing)!=""?5:6),s(4),f(9,(i.currentPlan==null?null:i.currentPlan.gestiones)!=""?9:10)}}function F(r,a){r&1&&(t(0,"h1",26),n(1," Crea tu plan con nosotros! "),e(),t(2,"button",27),n(3," Vamos all\xE1! "),e())}function D(r,a){if(r&1){let i=_();t(0,"li",9)(1,"div",28)(2,"div",29)(3,"div")(4,"p",30),n(5),e(),t(6,"p",31),n(7),e(),t(8,"p",31),n(9),e()(),t(10,"button",32),g("click",function(){let l=d(i).$implicit,m=c();return p(m.deleteComment(l.id))}),n(11," Eliminar "),e()()()()}if(r&2){let i=a.$implicit;s(5),u(i.content),s(2),u(i.publication_date),s(2),u(i.user_name)}}var N=(()=>{let a=class a{constructor(o,l){this.authService=o,this.router=l}ngOnInit(){this.currentUser=this.authService.getUserLS(),this.currentUser&&(this.getPlan(),this.getComments())}setCurrentIndex(o){this.authService.setCurrentTILS(o)}getComments(){this.authService.getComments(this.currentUser?.id).subscribe({next:o=>{console.log(o),this.comments=o,this.messageComments={message:`Tienes ${this.comments?.length} mensajes nuevos: `,resultado:!0}},error:o=>{console.log(o),this.messageComments={message:"No tienes mensajes",resultado:!0}}})}deleteComment(o){this.authService.deleteComment(o).subscribe({next:l=>{this.router.navigate(["/perfil"]).then(()=>{setTimeout(()=>{window.location.reload()},500)})},error:l=>alert(l)})}getPlan(){this.authService.getPlan(this.currentUser?.id).subscribe({next:o=>{this.messageResponsive={message:"Tu plan es el siguiente: ",resultado:!0},this.currentPlan=o},error:o=>{this.messageResponsive={message:"Aun no tienes ningun plan",resultado:!1}}})}};a.\u0275fac=function(l){return new(l||a)(b(y),b(P))},a.\u0275cmp=C({type:a,selectors:[["app-perfil"]],standalone:!0,features:[k],decls:16,vars:4,consts:[[1,"bg-blue-900"],[1,"pt-20","pb-32"],[1,"max-w-screen-lg","px-5","mx-auto","text-center"],[1,"mb-8","text-4xl","font-bold","text-white","font-voll"],[1,"mb-8","text-lg","font-bold","bg-blue-300","font-comfortaa"],[1,"max-w-screen-lg","px-5","mx-auto","mb-[190px]"],[1,"mb-8","text-lg","bg-blue-300"],[1,"font-bold","text-center","font-voll"],[1,"font-bold","text-white","font-voll"],[1,"mb-4"],[1,"flex","flex-col","justify-center","mb-8","md:flex-row"],[1,"p-8","mb-4","bg-yellow-300","rounded-lg","shadow-lg","md:mb-0","md:mr-4"],[1,"p-8","bg-blue-300","rounded-lg","shadow-lg","md:ml-4"],[1,"flex","justify-center","mb-8"],[1,"p-8","bg-red-300","rounded-lg","shadow-lg"],[1,"flex","justify-center","mb-3"],[1,"p-2","mr-3","transition-colors","duration-300","ease-in-out","bg-blue-300","rounded","hover:bg-blue-400","font-voll"],["routerLink","/plan","routerLinkActive","active","aria-current","page",1,"p-2","transition-colors","duration-300","ease-in-out","bg-blue-300","rounded","hover:bg-blue-400","font-comfortaa"],[1,"mb-5","font-voll"],[1,"bg-blue-200"],[1,"font-comfortaa"],[1,"flex","flex-col","items-center","justify-items-center"],[1,"mb-2","text-sm","font-bold","font-voll"],["routerLink","/plan","routerLinkActive","active","aria-current","page",1,"p-2","mb-3","transition-colors","duration-300","ease-in-out","bg-blue-300","rounded","font-comfortaa","hover:bg-blue-400",3,"click"],["routerLink","/plan","routerLinkActive","active","aria-current","page",1,"p-2","mb-3","transition-colors","duration-300","ease-in-out","bg-yellow-300","rounded","hover:bg-blue-400","font-comfortaa",3,"click"],["routerLink","/plan","routerLinkActive","active","aria-current","page",1,"p-2","mb-3","transition-colors","duration-300","ease-in-out","bg-green-300","rounded","hover:bg-blue-400","font-comfortaa",3,"click"],[1,"mb-2","text-xl","font-bold","text-yellow-400","font-voll"],["routerLink","/plan","routerLinkActive","active","aria-current","page",1,"p-2","mb-3","transition-colors","duration-300","ease-in-out","bg-blue-300","rounded","hover:bg-blue-400","font-comfortaa"],[1,"p-4","bg-gray-800","rounded"],[1,"flex","justify-between"],[1,"text-gray-300"],[1,"text-sm","text-gray-500"],[1,"p-2","bg-red-600","rounded",3,"click"]],template:function(l,m){l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),n(4),e(),t(5,"div",4),n(6),e(),x(7,U,16,3)(8,F,4,0),e(),t(9,"div",5)(10,"div",6)(11,"h1",7),n(12),e()(),t(13,"ul",8),S(14,D,12,3,"li",9,h),e()()()()),l&2&&(s(4),v(" Hola ",m.currentUser==null?null:m.currentUser.name," ! "),s(2),v(" ",m.messageResponsive==null?null:m.messageResponsive.message," "),s(),f(7,m.messageResponsive!=null&&m.messageResponsive.resultado?7:8),s(5),v(" ",m.messageComments==null?null:m.messageComments.message," "),s(2),E(m.comments))},dependencies:[I,w,T]});let r=a;return r})();export{N as PerfilComponent};
